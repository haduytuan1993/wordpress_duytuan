jQuery(function(t){function e(){var e=t(".result-test-stage"),i=e.find(".stage-questions"),s=e.find(".stage-pagination"),o=function(t){i.find(".qm-page").removeClass("active").removeClass("loading"),i.find(".qm-page-"+t).addClass("active")},r=s.find("li");r.click(function(e){var i=t(this).index()+1;o(i),r.removeClass("active"),t(this).addClass("active"),e.preventDefault()}),r.eq(0).addClass("active"),o(1)}function i(){var e=t(".result-test-stage .stage-questions");return{id_report:0,is_report_status:0,question_report_message:"",init:function(){this._events()},_events:function(){var i=this;e.find(".info_explanation").click(function(){var e=t(this).parents(".question"),i=e.find(".explanation");i.hasClass("show")?(i.removeClass("show"),t(this).removeClass("active"),i.hide()):(t(this).addClass("active"),i.addClass("show"),i.show())}),e.fitVids(),e.find(".question").each(function(){var e=t(this).data("id");t(this).find(".report").click(function(){i.showReport(e)})}),i.closeReport(),t("#cancel-question-report").click(function(t){t.preventDefault(),i.closeReport()}),t("#submit-question-report").click(function(e){e.preventDefault(),i.question_report_message=t("#report-question-email").val(),i.submitReport()}),t("#qm-share-result").click(function(e){e.preventDefault(),i.shareResult(t(this).data("title"),t(this).data("link"),t(this).data("image"))})},showReport:function(e){this.id_report=e,t(".result-report").show()},closeReport:function(){this.id_report=0,this.question_report_message="",this.is_report_status=0,t(".result-report").hide()},submitReport:function(){if(!this.question_report_message)return!1;var e=this;jQuery.post(quizmaker.ajax_url,{action:"quizmaker_question_report",security:quizmaker.security_question_report,data:{id:this.id_report,content:this.question_report_message}}).then(function(i){e.question_report_message="",t("#report-question-email").val(""),e.is_report_status=1,e.closeReport()})},shareResult:function(t,e,i){FB.ui({method:"share_open_graph",action_type:"og.shares",display:"popup",action_properties:JSON.stringify({object:{"og:url":e,"og:title":t,"og:image":i}})})}}}t(document).ready(function(){e(),i().init()})});